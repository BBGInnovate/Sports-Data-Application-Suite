<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: Controller.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: Controller.js</h1>

    


    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/** 
 * @fileOverview 	I am the controller for the application. app.js asks me to
 *					perform tasks and I use the service layers to accomplish
 *					the task.
 * @author 			John Allen &lt;jallen@bbg.gov>
 * @version 		1.0.0
 * @module 			Controller.js
 */

/* *************************** Required Classes **************************** */
var Transformer = require('./Transformer.js');
var FayeService = require('./FayeService.js');
var JSONFileService = require('./JSONFileService');
var log = require('./Logger.js');

/* *************************** Constructor Code **************************** */
/* *************************** Public Methods ****************************** */

/** 
 * I handle the Comment data. I get the properly formatted JSON file and broadcast 
 * the JSON data to the Faye server.
 * @param {Object} data I am the comment JSON data. I am required.
 * @return {Boolean}
 */
function handleComment( data ){

	Transformer.buildCommentFile( data );

	return true;
}
exports.handleComment = handleComment;


/** 
 * I handle the handle what happens AFTER the comments are built. I still
 * suck at asyn programming so this is why this method is here. Check out
 * the Transformer.buildCommentFile... it makes an async call to twitter
 * and then it calles another function.... bla bla bla... so this will be the
 * only example of this type of mess and why you see a refrence to Controller
 * in the Transformer... :P
 * @param {Object} data I am the game JSON object. I am required.
 * @return {Boolean}
 */
function handleCommentPostParsing( data ){

	FayeService.broadcastToFaye(data, 'commentary');
	JSONFileService.writeJSONDataFile( data, 'commentary' );

	return true;
}
exports.handleCommentPostParsing = handleCommentPostParsing;


/** 
 * I handle the game data. I get the properly formatted JSON file and broadcast 
 * the JSON data to the Faye server.
 * @param {Object} data I am the game JSON object. I am required.
 * @return {Boolean}
 */
function handleGame( data ){

	var gameObject = Transformer.buildGameFile( data );
	
	FayeService.broadcastToFaye( gameObject, 'game' );
	JSONFileService.writeJSONDataFile( gameObject, 'game' );

	Transformer.updateCurrentGameFile( data );

	return true;
}
exports.handleGame = handleGame;


/** 
 * I handle the schdeule. I get the properly formatted JSON file and broadcast 
 * the JSON data to the Faye server.
 * @param {Object} data I am the schedule JSON object. I am required.
 * @return {Boolean}
 */
function handleSchedule( data ){

	var scheduleObject = Transformer.buildSchedule( data );
	FayeService.broadcastToFaye( scheduleObject, 'schedule' );
	JSONFileService.writeJSONDataFile( scheduleObject, 'schedule' );

	return true;
}
exports.handleSchedule = handleSchedule;


/** 
 * I handle the Squad data. I get the properly formatted JSON file.
 * @return {Boolean}
 */
function handleSeasonStats(){

	Transformer.buildSeasonStats();
	return true;
}
exports.handleSeasonStats = handleSeasonStats;


/** 
 * I handle the Squad data. I get the properly formatted JSON file write it to
 * disk. I also handle the player.json file as well.
 * @param {Object} data I am the Squad JSON data. I am required.
 * @return {Boolean}
 */
function handleSquad ( data ){

	var squadAndPlayerData = Transformer.buildSquadFile( data );

	JSONFileService.writeJSONDataFile( squadAndPlayerData.squad, 'squad' );
	JSONFileService.writeJSONDataFile( squadAndPlayerData.player, 'player' );

	return true;
}
exports.handleSquad = handleSquad;
/* *************************** Private Methods ***************************** */</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Index</a></h2><h3>Modules</h3><ul><li><a href="js.html">AggregateDataService.js</a></li><li><a href="js_.html">app.js</a></li><li><a href="js__.html">Config.js</a></li><li><a href="js___.html">Controller.js</a></li><li><a href="js____.html">Email.js</a></li><li><a href="js_____.html">ErrorHandler.js</a></li><li><a href="js______.html">FayeService.js</a></li><li><a href="js_______.html">JSONFileService.js</a></li><li><a href="js________.html">Logger.js</a></li><li><a href="js_________.html">Lookup.js</a></li><li><a href="js__________.html">OutputService.js</a></li><li><a href="js___________.html">Transformer.js</a></li><li><a href="js____________.html">Utils.js</a></li></ul>
</nav>

<br clear="both">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.3.0-alpha5</a> on Tue Sep 30 2014 11:39:52 GMT-0400 (EDT)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
