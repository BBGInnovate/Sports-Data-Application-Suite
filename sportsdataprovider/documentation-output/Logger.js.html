<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: Logger.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: Logger.js</h1>

    


    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * @fileOverview 	I am the applications Logger. I can log to two different files
 *					application.log and error.log. As a convience I can also log to
 * 					the console.
 * @author 			John Allen &lt;jallen@bbg.gov>
 * @version 		1.0.0
 * @module 			Logger.js
 */

/* *************************** Required Classes **************************** */
var util = require('util');
var fs = require('fs');
var winston = require('winston');

var applogger = new (winston.Logger)({
	transports: [
		new (winston.transports.File)({ filename: './logs/application.log' })
	]
});

var errorLogger = new (winston.Logger)({
	transports: [
		new (winston.transports.File)({ filename: './logs/error.log' })
	]
});

// var Log = require('log');
// var appLogger = new Log('debug', fs.createWriteStream('./logs/application.log'));
// var errorLogger = new Log('debug', fs.createWriteStream('./logs/error.log'));


/* *************************** Constructor Code **************************** */

/* *************************** Public Methods ****************************** */

/**
 * I write log entries to the application.log file
 * @param {String} message - I am a message about what happened
 * @param {Object} data - I am a JS object of additional infomation to log
 */
function application( message, data ){
	applogger.info( message, JSON.stringify( data ), data );
}

/**
 * I write log entries to the console
 * @param {String} message - I am a message about what happened
 */
function log( message ){
	console.log( message );
}

/**
 * I write log entries to the error.log file
 * @param {String} message - I am a message about what happened
 * @param {Object} data - I am a JS object of additional infomation to log
 */
function error( message, data ){
	errorLogger.error( message, JSON.stringify( data ), data );
}


/**
 * I dump a object to the console
 * @param {Object} data - I am the object to dump
 * @param {Object} data - I am the depth to dump. I will default to 'all'
 */
function dump( data, depth ){

	data = data || {'nothing':'passed'};
	depth = depth || null;

	console.log(util.inspect(data, {colors: true, depth: depth }));
}


/* ************************ Exported Public Methods ************************ */
exports.application = application;
exports.error = error;
exports.log = log;
exports.dump = dump;</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Index</a></h2><h3>Modules</h3><ul><li><a href="js.html">AggregateDataService.js</a></li><li><a href="js_.html">app.js</a></li><li><a href="js__.html">Config.js</a></li><li><a href="js___.html">Controller.js</a></li><li><a href="js____.html">Email.js</a></li><li><a href="js_____.html">ErrorHandler.js</a></li><li><a href="js______.html">FayeService.js</a></li><li><a href="js_______.html">JSONFileService.js</a></li><li><a href="js________.html">Logger.js</a></li><li><a href="js_________.html">Lookup.js</a></li><li><a href="js__________.html">OutputService.js</a></li><li><a href="js___________.html">Transformer.js</a></li><li><a href="js____________.html">Utils.js</a></li></ul>
</nav>

<br clear="both">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.3.0-alpha5</a> on Wed Oct 01 2014 16:22:01 GMT-0400 (EDT)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
